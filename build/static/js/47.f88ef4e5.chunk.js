"use strict";(self.webpackChunkonion_shop=self.webpackChunkonion_shop||[]).push([[47],{8622:function(n,e,t){var i=t(1413),c=(t(2791),t(8361)),s=t(184);e.Z=function(n){return(0,s.jsx)("div",(0,i.Z)((0,i.Z)({className:"img-placeholder"},n),{},{children:(0,s.jsx)(c.Z.Image,{style:{backgroundColor:"white"}})}))}},4667:function(n,e,t){var i=t(1413),c=(t(2791),t(184));e.Z=function(n){return(0,c.jsx)("a",(0,i.Z)((0,i.Z)({rel:"noopener noreferrer",target:"_blank"},n),{},{children:n.children}))}},8083:function(n,e,t){var i=t(1413),c=t(9439),s=t(2791),a=t(8687),r=t(7689),o=t(1087),l=t(5984),d=t(9529),x=t(9675),h=t(3349),u=t(4667),f=t(9684),p=t(2141),m=t(184);e.Z=(0,a.$j)((function(n){return{account:n.account,isHome:n.isHome}}),{updateLoginState:f.Y,updateUserInfo:f.g,updateIsHome:p.E})((function(n){var e=n.account,t=e.loginState,a=e.userInfo,f=n.isHome,p=n.updateLoginState,j=n.updateUserInfo,g=n.updateIsHome,v=(0,r.TH)(),b=(0,r.s0)(),N=encodeURIComponent(window.location.href),y={notifTitle:"",notifContent:""},Z=(0,s.useState)(y),k=(0,c.Z)(Z,2),C=k[0],w=k[1];(0,s.useEffect)((function(){I(),U()}),[t,a]);var I=function(){"/"===v.pathname?g(!0):g(!1)},S=(0,m.jsxs)("div",{style:{width:"130px"},children:[(0,m.jsx)("div",{className:"navbar-account-content",style:{padding:"10px 15px",cursor:"pointer"},children:"\u6211\u7684\u5e33\u6236"}),(0,m.jsx)("div",{className:"navbar-account-content",style:{padding:"10px 15px",cursor:"pointer"},children:"\u8cfc\u8cb7\u6e05\u55ae"}),(0,m.jsx)("div",{className:"navbar-account-content",style:{padding:"10px 15px",cursor:"pointer"},onClick:function(){_()},children:"\u767b\u51fa"})]}),U=function(){if("guest"!==a.name){var n=(0,m.jsx)("span",{style:{color:"lightgrey"},children:"\u6700\u8fd1\u6536\u5230\u7684\u901a\u77e5"}),e=(0,m.jsxs)("div",{style:{minHeight:"200px",minWidth:"250px"},children:[a.notifications.map((function(n){var e=n.id,t=n.imgUrl,i=n.title,c=n.content;return(0,m.jsxs)("div",{className:"flex cart-content",style:{flexDirection:"row",padding:"10px",cursor:"pointer"},children:[(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:t,alt:"notification icon",style:{width:"30px",paddingRight:"5px",paddingTop:"3px"}})}),(0,m.jsxs)("div",{style:{maxWidth:"500px",fontSize:"12px"},children:[(0,m.jsx)("b",{children:i}),(0,m.jsx)("div",{style:{fontSize:"8px"},children:c})]})]},e)})),(0,m.jsx)(o.rU,{className:"flex cart-content",style:{justifyContent:"center",alignItems:"center",backgroundColor:"rgb(249, 249, 249)",padding:"10px 0px",cursor:"pointer",color:"black"},children:"\u67e5\u770b\u5168\u90e8"})]});w({notifTitle:n,notifContent:e})}else{var t=(0,m.jsxs)("div",{className:"flex",style:{flexDirection:"column",minHeight:"200px",minWidth:"250px"},children:[(0,m.jsx)("div",{className:"flex",style:{flex:1,justifyContent:"center",alignItems:"center"},children:"\u82e5\u8981\u67e5\u770b\u901a\u77e5\u8a0a\u606f\uff0c\u8acb\u5148\u767b\u5165"}),(0,m.jsxs)("div",{className:"flex",style:{justifyContent:"space-between"},children:[(0,m.jsx)(o.rU,{className:"notifi",to:"/signup?next=".concat(N),style:{backgroundColor:"rgb(240, 237, 237)",width:"100%",textAlign:"center",padding:"5px 0px",color:"#222",fontSize:"14px",fontWeight:"bold"},children:"\u8a3b\u518a"}),(0,m.jsx)(o.rU,{className:"notifi",to:"/login?next=".concat(N),style:{backgroundColor:"rgb(240, 237, 237)",width:"100%",textAlign:"center",padding:"5px 0px",color:"#222",fontSize:"14px",fontWeight:"bold"},children:"\u767b\u5165"})]})]});w((0,i.Z)((0,i.Z)({},y),{},{notifContent:t}))}},_=function(){p(!1),j({id:(0,l.x0)(),name:"guest",cart:[]}),b("/cart"===v.pathname?"/login":v.pathname)};return(0,m.jsxs)("div",{className:f?"navbar-section-container flex navbar fixed":"navbar-section-container flex navbar",style:{minWidth:"952px"},children:[(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(u.Z,{className:"seller-center-link navbar-section-decoration navbar-hover-decoration",children:"\u8ce3\u5bb6\u4e2d\u5fc3"}),(0,m.jsx)("div",{className:"flex",children:(0,m.jsx)(u.Z,{className:"download-link navbar-section-decoration",children:(0,m.jsx)("div",{className:"navbar-hover-decoration",children:"\u4e0b\u8f09"})})}),(0,m.jsxs)("div",{className:"flex follow-us-container",children:[(0,m.jsx)("div",{className:"flex navbar-section-decoration",style:{marginRight:"4px"},children:"\u8ffd\u8e64\u6211\u5011"}),(0,m.jsx)(u.Z,{className:"fb-link",children:(0,m.jsx)("div",{className:"flex",children:(0,m.jsx)("img",{src:"/images/icons/fb.png",style:{width:"16px"},alt:"header_icon"})})}),(0,m.jsx)(u.Z,{className:"ig-link",children:(0,m.jsx)("div",{className:"flex",children:(0,m.jsx)("img",{src:"/images/icons/instagram.png",style:{width:"16px"},alt:"header_icon"})})}),(0,m.jsx)(u.Z,{className:"line-link",children:(0,m.jsx)("div",{className:"flex",children:(0,m.jsx)("img",{src:"/images/icons/line.png",style:{width:"16px"},alt:"header_icon"})})})]})]}),(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(x.Z,{placement:"bottomRight",title:C.notifTitle,content:C.notifContent,trigger:"hover",children:(0,m.jsx)("div",{className:"notification-section-container",children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)("div",{className:"flex",children:(0,m.jsx)("img",{className:"notification-icon",src:"/images/icons/notification.png",style:{width:"16px"},alt:"header_icon"})}),(0,m.jsx)("span",{className:"notification-word navbar-section-decoration navbar-hover-decoration",children:"\u901a\u77e5\u7e3d\u89bd"})]})})}),(0,m.jsxs)("div",{className:"help-center-container flex",children:[(0,m.jsx)("img",{className:"help-center-icon",src:"/images/icons/help_icon.png",style:{width:"16px"},alt:"header_icon"}),(0,m.jsx)(u.Z,{className:"help-center-link navbar-section-decoration navbar-hover-decoration",children:"\u5e6b\u52a9\u4e2d\u5fc3"})]}),"guest"===a.name?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.rU,{className:"signup-link navbar-section-decoration navbar-hover-decoration",to:"/signup?next=".concat(N),children:"\u8a3b\u518a"}),(0,m.jsx)("div",{className:"link-separator"}),(0,m.jsx)(o.rU,{className:"login-link navbar-section-decoration navbar-hover-decoration",to:"/login?next=".concat(N),children:"\u767b\u5165"})]}):(0,m.jsx)("div",{className:"navbar-username-container",children:(0,m.jsxs)(x.Z,{placement:"bottom",content:S,arrowPointAtCenter:!0,children:[(0,m.jsx)(h.C,{size:"small",icon:(0,m.jsx)(d.Z,{}),src:a.avatar}),(0,m.jsx)("span",{className:"navbar-username navbar-section-decoration",children:a.name})]})})]})]})}))},1047:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var i=t(2791),c=t(8687),s=t(7689),a=t(1087),r=t(8083),o=t(1413),l=t(6024),d=t(184),x=function(){return(0,d.jsx)("thead",{className:"title-container",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u5546\u54c1"}),(0,d.jsx)("th",{children:"\u540d\u7a31"}),(0,d.jsx)("th",{children:"\u55ae\u50f9"}),(0,d.jsx)("th",{children:"\u6578\u91cf"}),(0,d.jsx)("th",{children:"\u7e3d\u8a08"}),(0,d.jsx)("th",{children:"\u64cd\u4f5c"})]})})},h=t(8622),u=t(9684),f=(0,c.$j)((function(n){return{account:n.account}}),{updateUserInfo:u.g})((function(n){var e=n.account.userInfo,t=n.updateUserInfo,i=e.cart,c=function(n){if(!0===window.confirm("\u60a8\u78ba\u5b9a\u8981\u79fb\u9664\u5546\u54c1?")){var c=i.filter((function(e){return e.id!==n}));t((0,o.Z)((0,o.Z)({},e),{},{cart:c}))}};return(0,d.jsxs)("table",{className:"cart-container",children:[(0,d.jsx)(x,{}),(0,d.jsx)("tbody",{children:i.map((function(n){var s=n.id,a=n.name,r=n.price,x=n.imgUrl,u=n.quantity,f=n.isChecked;return(0,d.jsxs)("tr",{style:{height:"112px"},children:[(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:"item-checkbox-container",children:[(0,d.jsx)("input",{className:"cart-checkbox btn",type:"checkbox",onChange:function(){!function(n){var c=i.map((function(e){return e.id===n?(0,o.Z)((0,o.Z)({},e),{},{isChecked:!e.isChecked}):e}));t((0,o.Z)((0,o.Z)({},e),{},{cart:c}))}(s)},checked:f}),(0,d.jsx)("div",{style:{width:"100px",height:"100px"},children:(0,d.jsx)(l.Z,{className:"item-img",src:x,alt:"shoes",preview:!1,placeholder:(0,d.jsx)(h.Z,{style:{width:"100px",height:"100px"}})})})]})}),(0,d.jsx)("td",{children:a}),(0,d.jsxs)("td",{children:["$",r.toLocaleString()]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{onClick:function(){!function(n,s){if(s>1){var a=i.map((function(e,t){return e.id===n?i[t]=(0,o.Z)((0,o.Z)({},e),{},{quantity:s-1}):e}));t((0,o.Z)((0,o.Z)({},e),{},{cart:a}))}else c(n)}(s,u)},children:"-"}),(0,d.jsx)("span",{className:"item-quantity",children:u}),(0,d.jsx)("button",{onClick:function(){!function(n,c){var s=i.map((function(e,t){return e.id===n?i[t]=(0,o.Z)((0,o.Z)({},e),{},{quantity:c+1}):e}));t((0,o.Z)((0,o.Z)({},e),{},{cart:s}))}(s,u)},children:"+"})]}),(0,d.jsxs)("td",{children:["$",(r*u).toLocaleString()]}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{onClick:function(){c(s)},children:"\u522a\u9664"})})]},s)}))})]})})),p=(0,c.$j)((function(n){return{userInfo:n.account.userInfo}}),{updateUserInfo:u.g})((function(n){var e=n.userInfo,t=n.updateUserInfo,i=e.cart,c=i.reduce((function(n,e){return n+(e.isChecked?1:0)}),0),s=i.reduce((function(n,e){var t=e.price,i=e.quantity;return!0===e.isChecked?n+t*i:n}),0).toLocaleString();return(0,d.jsxs)("div",{className:"counter-bar",children:[(0,d.jsxs)("div",{className:"all-select-container",children:[(0,d.jsx)("div",{className:"counter-checkbox-container",children:(0,d.jsx)("input",{className:"cart-checkbox counter-checkbox btn",type:"checkbox",onChange:function(n){!function(n){var c=i.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{isChecked:n})}));t((0,o.Z)((0,o.Z)({},e),{},{cart:c}))}(n.target.checked)},checked:c===i.length&&0!==c})}),(0,d.jsx)("div",{className:"allSelect-word-container",children:(0,d.jsxs)("div",{children:["\u5168\u9078(",i.length,")"]})})]}),(0,d.jsxs)("div",{className:"go-buy-container",children:[(0,d.jsxs)("div",{className:"total-price-container",children:[(0,d.jsxs)("span",{children:["\u7e3d\u91d1\u984d(",c," \u500b\u5546\u54c1):"]}),(0,d.jsxs)("span",{className:"total-price",children:["$",s]})]}),(0,d.jsx)("div",{className:"btn go-buy-btn-container",children:(0,d.jsx)("div",{children:"\u53bb\u8cb7\u55ae"})})]})]})})),m=t(8486),j=(0,c.$j)((function(n){return{account:n.account}}),{})((function(n){var e=n.account,t=e.loginState,c=e.userInfo.cart,o=(0,s.s0)();(0,i.useEffect)((function(){t||o("/",{replace:!0})}));return(0,d.jsxs)("div",{children:[(0,d.jsx)(r.Z,{}),(0,d.jsxs)("div",{className:"flex",style:{backgroundColor:"#bb7944"},children:[(0,d.jsx)("div",{style:{margin:"0 30px 0 50px",height:"90px"},children:(0,d.jsx)(a.rU,{to:"/",children:(0,d.jsx)("img",{src:"/images/logo.png",alt:"Onion Shop LOGO",style:{width:"90px"}})})}),(0,d.jsx)("div",{className:"flex",style:{width:"100px",fontSize:"23px",alignItems:"center",color:"#f2f2f2"},children:"\u8cfc\u7269\u8eca"})]}),0===c.length?(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",height:"250px",alignItems:"center"},children:(0,d.jsx)("h2",{children:"\u60a8\u7684\u8cfc\u7269\u8eca\u5167\u6c92\u6709\u5546\u54c1\uff0c\u5feb\u53bb\u8cfc\u7269\u5427\uff01"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f,{}),(0,d.jsx)(p,{})]}),(0,d.jsx)(m.Z,{})]})}))},9684:function(n,e,t){t.d(e,{Y:function(){return c},g:function(){return s}});var i=t(1796),c=function(n){return{type:i.PM,data:n}},s=function(n){return{type:i.Ej,data:n}}},2141:function(n,e,t){t.d(e,{E:function(){return c}});var i=t(1796),c=function(n){return{type:i.tT,data:n}}}}]);
//# sourceMappingURL=47.f88ef4e5.chunk.js.map