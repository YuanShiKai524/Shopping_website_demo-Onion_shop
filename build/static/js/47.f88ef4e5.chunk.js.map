{"version":3,"file":"static/js/47.f88ef4e5.chunk.js","mappings":"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","sources":["components/ImgPlaceHolder/index.jsx","components/MyATag/index.jsx","containers/Navbar/index.jsx","components/Title/index.jsx","containers/List/index.jsx","containers/Counter/index.jsx","pages/Cart/index.jsx","redux/actions/account.js","redux/actions/navbar.js"],"sourcesContent":["import React from 'react'\r\nimport {Skeleton} from 'antd'\r\n\r\n\r\nconst ImgPlaceHolder = (props) => {\r\n  return (\r\n    <div className='img-placeholder' {...props}><Skeleton.Image style={{backgroundColor: \"white\"}} /></div>\r\n  )\r\n}\r\n\r\nexport default ImgPlaceHolder\r\n","import React from 'react'\r\n\r\nconst MyATag = (props) => {\r\n  return (\r\n    <a rel=\"noopener noreferrer\" target=\"_blank\" {...props}>{props.children}</a>\r\n  )\r\n}\r\n\r\nexport default MyATag\r\n","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom'\r\nimport { nanoid } from 'nanoid';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Avatar, Popover } from 'antd';\r\nimport MyATag from '../../components/MyATag'\r\nimport { updateLoginState, updateUserInfo } from '../../redux/actions/account';\r\nimport {updateIsHome} from '../../redux/actions/navbar'\r\n\r\nconst Navbar = (props) => {\r\n\r\n  const { account: { loginState, userInfo }, isHome, updateLoginState, updateUserInfo, updateIsHome } = props\r\n\r\n  const location = useLocation();\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const nextSearchParams = encodeURIComponent(window.location.href);\r\n  \r\n  // 通知總覽及購物車氣泡卡片初始狀態\r\n  const initPopover = {\r\n    notifTitle: '',\r\n    notifContent: ''\r\n  }\r\n  const [popover, setPopover] = useState(initPopover);\r\n\r\n  useEffect(() => {\r\n    // 檢查是否是首頁\r\n    checkIsHomepage();\r\n    checkIsUser();\r\n  }, [loginState, userInfo]);\r\n\r\n  // 檢查是否是首頁的函數\r\n  const checkIsHomepage = () => {\r\n    if (location.pathname === '/') {\r\n      updateIsHome(true);\r\n    } else {\r\n      updateIsHome(false);\r\n    }\r\n  }\r\n\r\n  // 用來展示右上角用戶登入後hover顯示的區塊內容\r\n  const accountContents = (\r\n    <div style={{ width: \"130px\" }}>\r\n      <div className='navbar-account-content' style={{ padding: \"10px 15px\", cursor: \"pointer\" }}>我的帳戶</div>\r\n      <div className='navbar-account-content' style={{ padding: \"10px 15px\", cursor: \"pointer\" }}>購買清單</div>\r\n      <div className='navbar-account-content' style={{ padding: \"10px 15px\", cursor: \"pointer\" }} onClick={() => { logout() }}>登出</div>\r\n    </div>\r\n  )\r\n\r\n  // 檢查是否是登入的用戶，若是，則用此函數處理數據\r\n  const checkIsUser = () => {\r\n    // 用戶登入後，展示用戶通知數據\r\n    if (userInfo.name !== 'guest') {\r\n      const notifTitle = <span style={{ color: \"lightgrey\" }}>最近收到的通知</span>\r\n      const notifContent = (\r\n        <div style={{ minHeight: \"200px\", minWidth: '250px' }}>\r\n          {\r\n            userInfo.notifications.map((notif) => {\r\n              const { id, imgUrl, title, content } = notif\r\n              return (\r\n                <div key={id} className='flex cart-content' style={{ flexDirection: 'row', padding: \"10px\", cursor: \"pointer\" }}>\r\n                  <div>\r\n                    <img src={imgUrl} alt=\"notification icon\" style={{ width: \"30px\", paddingRight: '5px', paddingTop: '3px' }} />\r\n                  </div>\r\n                  <div style={{ maxWidth: \"500px\", fontSize: '12px' }}>\r\n                    <b>{title}</b>\r\n                    <div style={{ fontSize: '8px' }}>{content}</div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n          <Link className='flex cart-content' style={{ justifyContent: 'center', alignItems: 'center', backgroundColor: 'rgb(249, 249, 249)', padding: \"10px 0px\", cursor: \"pointer\", color: \"black\" }}>查看全部</Link>\r\n        </div>\r\n      )\r\n      setPopover({ notifTitle, notifContent });\r\n    } else {\r\n      // 用戶未登入時的內容\r\n      const notifContent = (\r\n        <div className='flex' style={{ flexDirection: 'column', minHeight: \"200px\", minWidth: '250px' }}>\r\n          <div className='flex' style={{ flex: 1, justifyContent: \"center\", alignItems: 'center' }}>若要查看通知訊息，請先登入</div>\r\n          <div className='flex' style={{ justifyContent: \"space-between\" }}>\r\n            <Link className='notifi' to={`/signup?next=${nextSearchParams}`} style={{ backgroundColor: 'rgb(240, 237, 237)', width: \"100%\", textAlign: 'center', padding: \"5px 0px\", color: \"#222\", fontSize: \"14px\", fontWeight: \"bold\" }}>註冊</Link>\r\n            <Link className='notifi' to={`/login?next=${nextSearchParams}`} style={{ backgroundColor: 'rgb(240, 237, 237)', width: \"100%\", textAlign: 'center', padding: \"5px 0px\", color: \"#222\", fontSize: \"14px\", fontWeight: \"bold\" }}>登入</Link>\r\n          </div>\r\n        </div>\r\n      )\r\n      setPopover({ ...initPopover, notifContent })\r\n    }\r\n  }\r\n\r\n  // 登出函數\r\n  const logout = () => {\r\n    updateLoginState(false);\r\n    updateUserInfo({ id: nanoid(), name: 'guest', cart: [] })\r\n    navigate(location.pathname === '/cart' ? '/login' : location.pathname)\r\n  }\r\n\r\n  return (\r\n    <div className={isHome ? \"navbar-section-container flex navbar fixed\" : \"navbar-section-container flex navbar\"} style={{minWidth: '952px'}}>\r\n      {/* <!-- 導覽區塊(左側部分:賣家中心、下載(QRcode &下載頁面)、追蹤我們) --> */}\r\n      <div className=\"flex\">\r\n        {/* <!-- 賣家中心連結 --> */}\r\n        <MyATag className=\"seller-center-link navbar-section-decoration navbar-hover-decoration\">賣家中心</MyATag>\r\n        {/* <!-- 下載 --> */}\r\n        <div className=\"flex\">\r\n          <MyATag className=\"download-link navbar-section-decoration\">\r\n            <div className=\"navbar-hover-decoration\">下載</div>\r\n          </MyATag>\r\n        </div>\r\n        {/* <!-- 追蹤我們 --> */}\r\n        <div className=\"flex follow-us-container\">\r\n          <div className=\"flex navbar-section-decoration\" style={{ marginRight: \"4px\" }}>追蹤我們</div>\r\n          {/* <!-- Facebook --> */}\r\n          <MyATag className=\"fb-link\">\r\n            <div className=\"flex\">\r\n              <img src=\"/images/icons/fb.png\" style={{ width: \"16px\" }} alt=\"header_icon\" />\r\n            </div>\r\n          </MyATag>\r\n          {/* <!-- Instagram --> */}\r\n          <MyATag className=\"ig-link\">\r\n            <div className=\"flex\">\r\n              <img src=\"/images/icons/instagram.png\" style={{ width: \"16px\" }} alt=\"header_icon\" />\r\n            </div>\r\n          </MyATag>\r\n          {/* <!-- Line 官方帳號 --> */}\r\n          <MyATag className=\"line-link\">\r\n            <div className=\"flex\">\r\n              <img src=\"/images/icons/line.png\" style={{ width: \"16px\" }} alt=\"header_icon\" />\r\n            </div>\r\n          </MyATag>\r\n        </div>\r\n      </div>\r\n      {/* <!-- 導覽區塊(右側部分:通知總覽、幫助中心、註冊|登入) --> */}\r\n      <div className=\"flex\">\r\n        {/* <!-- 通知總覽區塊（通知總覽文字和圖標、hover後產生的登入提醒與註冊/登入的連結） --> */}\r\n        <Popover placement=\"bottomRight\" title={popover.notifTitle} content={popover.notifContent} trigger=\"hover\">\r\n          <div className=\"notification-section-container\">\r\n            {/* <!-- 通知總覽文字和圖標（上半塊） --> */}\r\n            <div className=\"flex\">\r\n              {/* <!-- 通知總覽圖標 --> */}\r\n              <div className=\"flex\">\r\n                <img className=\"notification-icon\" src=\"/images/icons/notification.png\" style={{ width: \"16px\" }} alt=\"header_icon\" />\r\n              </div>\r\n              {/* <!-- 通知總覽文字部分 --> */}\r\n              <span className=\"notification-word navbar-section-decoration navbar-hover-decoration\">通知總覽</span>\r\n            </div>\r\n          </div>\r\n        </Popover>\r\n        {/* <!-- 幫助中心 --> */}\r\n        <div className=\"help-center-container flex\">\r\n          <img className=\"help-center-icon\" src=\"/images/icons/help_icon.png\" style={{ width: \"16px\" }} alt=\"header_icon\" />\r\n          <MyATag className=\"help-center-link navbar-section-decoration navbar-hover-decoration\">幫助中心</MyATag>\r\n        </div>\r\n        {/* <!-- 註冊/登入區塊 --> */}\r\n        {/* <!-- 註冊連結 --> */}\r\n        {\r\n          userInfo.name === \"guest\" ?\r\n            <><Link className=\"signup-link navbar-section-decoration navbar-hover-decoration\" to={`/signup?next=${nextSearchParams}`}>註冊</Link>\r\n              {/* 連結分開器：| */}\r\n              <div className=\"link-separator\"></div>\r\n              {/* <!-- 登入連結 --> */}\r\n              <Link className=\"login-link navbar-section-decoration navbar-hover-decoration\" to={`/login?next=${nextSearchParams}`}>登入</Link></> :\r\n            <div className='navbar-username-container'>\r\n              <Popover placement=\"bottom\" content={accountContents} arrowPointAtCenter>\r\n                <Avatar size=\"small\" icon={<UserOutlined />} src={userInfo.avatar} />\r\n                <span className='navbar-username navbar-section-decoration'>{userInfo.name}</span>\r\n              </Popover>\r\n            </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({ account: state.account, isHome: state.isHome }),\r\n  { updateLoginState, updateUserInfo, updateIsHome }\r\n)(Navbar)\r\n","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Title = () => {\r\n  return (\r\n    <thead className='title-container'>\r\n      <tr>\r\n        <th>商品</th>\r\n        <th>名稱</th>\r\n        <th>單價</th>\r\n        <th>數量</th>\r\n        <th>總計</th>\r\n        <th>操作</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n}\r\n\r\nexport default Title;","import React from 'react';\r\nimport { Image } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport Title from '../../components/Title';\r\nimport ImgPlaceHolder from '../../components/ImgPlaceHolder'\r\nimport {updateUserInfo} from '../../redux/actions/account'\r\nimport './index.css';\r\n\r\nconst List = (props) => {\r\n\r\n  const {account: {userInfo}, updateUserInfo} = props\r\n  const {cart: items} = userInfo\r\n\r\n  // 增加商品數量的函數\r\n  const increment = (id, quantity) => {\r\n    const newItems = items.map((item, index) => {\r\n      if (item.id === id) {\r\n        return items[index] = { ...item, quantity: quantity + 1 };\r\n      } else {\r\n        return item;\r\n      }\r\n    })\r\n    updateUserInfo({...userInfo, cart: newItems});\r\n  }\r\n\r\n  // 減少商品數量的函數\r\n  const decrement = (id, quantity) => {\r\n    if (quantity > 1) {\r\n      const newItems = items.map((item, index) => {\r\n        if (item.id === id) {\r\n          return items[index] = { ...item, quantity: quantity - 1 };\r\n        } else {\r\n          return item;\r\n        }\r\n      })\r\n      updateUserInfo({...userInfo, cart: newItems});\r\n    } else {\r\n      removeFromCart(id);\r\n    }\r\n  }\r\n\r\n  // 移除商品的函數\r\n  const removeFromCart = (id) => {\r\n    let answer = window.confirm(\"您確定要移除商品?\");\r\n    if (answer === true) {\r\n      const newItems = items.filter((item) => { return item.id !== id });\r\n      updateUserInfo({...userInfo, cart: newItems});\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // 更新勾選的函數\r\n  const updateCheckbox = (id) => {\r\n    const newItems = items.map((item) => {\r\n      if (item.id === id) {\r\n        return { ...item, isChecked: !item.isChecked };\r\n      } else {\r\n        return item;\r\n      }\r\n    })\r\n    updateUserInfo({...userInfo, cart: newItems});\r\n  }\r\n\r\n  return (\r\n    <table className='cart-container'>\r\n      <Title />\r\n      <tbody>\r\n        {\r\n          items.map((item) => {\r\n            const {id, name, price, imgUrl, quantity, isChecked} = item\r\n            return (\r\n              <tr key={id} style={{height: \"112px\"}}>\r\n                <td>\r\n                  <div className=\"item-checkbox-container\">\r\n                    <input className=\"cart-checkbox btn\" type=\"checkbox\" onChange={() => {updateCheckbox(id, isChecked)}} checked={isChecked} />\r\n                    <div style={{width: \"100px\", height: \"100px\"}}>\r\n                      <Image className=\"item-img\" src={imgUrl} alt=\"shoes\" preview={false} placeholder={<ImgPlaceHolder style={{width: \"100px\", height: \"100px\"}} />} />\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>{name}</td>\r\n                <td>${price.toLocaleString()}</td>\r\n                <td>\r\n                  <button onClick={() => { decrement(id, quantity) }}>-</button>\r\n                  <span className=\"item-quantity\">{quantity}</span>\r\n                  <button onClick={() => { increment(id, quantity) }}>+</button>\r\n                </td>\r\n                <td>${(price * quantity).toLocaleString()}</td>\r\n                <td>\r\n                  <button onClick={() => { removeFromCart(id) }}>刪除</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  state => ({account: state.account}),\r\n  {updateUserInfo}\r\n)(List)\r\n","import React from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {updateUserInfo} from '../../redux/actions/account'\r\nimport './index.css'\r\n\r\nconst Counter = (props) => {\r\n\r\n  const {userInfo, updateUserInfo} = props\r\n\r\n  const {cart: items} = userInfo\r\n\r\n  // 計算已勾選之商品的數量\r\n  const checkedCount = items.reduce((preVal, item) => {\r\n    return preVal + (item.isChecked ? 1 : 0);\r\n  }, 0)\r\n\r\n  // 計算總金額\r\n  const totalPrice = items.reduce((preVal, item) => {\r\n    const { price, quantity } = item;\r\n    if(item.isChecked === true) {\r\n      return preVal + (price * quantity);\r\n    } else {\r\n      return preVal;\r\n    }\r\n  }, 0).toLocaleString();\r\n\r\n  // 處理全選的函數\r\n  const handleCheckAll = (isAllChecked) => {\r\n    const newItems = items.map((item) => {\r\n      return { ...item, isChecked: isAllChecked };\r\n    })\r\n    updateUserInfo({...userInfo, cart: newItems});\r\n  }\r\n\r\n  return (\r\n    <div className=\"counter-bar\">\r\n      <div className=\"all-select-container\">\r\n        <div className=\"counter-checkbox-container\">\r\n          <input className=\"cart-checkbox counter-checkbox btn\" type=\"checkbox\" onChange={(event) => { handleCheckAll(event.target.checked) }} checked={checkedCount === items.length && checkedCount !== 0 ? true : false} />\r\n        </div>\r\n        <div className=\"allSelect-word-container\">\r\n          <div>全選({items.length})</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"go-buy-container\">\r\n        <div className=\"total-price-container\">\r\n          <span>總金額({checkedCount} 個商品):</span>\r\n          <span className=\"total-price\">${totalPrice}</span>\r\n        </div>\r\n        <div className=\"btn go-buy-btn-container\">\r\n          <div>去買單</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  state => ({userInfo: state.account.userInfo}),\r\n  {updateUserInfo}\r\n)(Counter);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Navbar from '../../containers/Navbar'\r\nimport List from '../../containers/List';\r\nimport Counter from '../../containers/Counter';\r\nimport Footer from '../../components/Footer'\r\nimport './index.css'\r\n\r\nconst Cart = (props) => {\r\n\r\n  const { account: { loginState, userInfo: { cart: items } } } = props\r\n\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    if (!loginState) {\r\n      navigate('/', { replace: true })\r\n    }\r\n  })\r\n\r\n  // 檢查購物車內是否有商品之函數\r\n  const checkCart = () => {\r\n    return (\r\n      items.length === 0 ?\r\n        <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", height: \"250px\", alignItems: \"center\" }}>\r\n          <h2>您的購物車內沒有商品，快去購物吧！</h2>\r\n        </div> :\r\n        <>\r\n          <List />\r\n          <Counter />\r\n        </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      {/* <!-- Logo圖 --> */}\r\n      <div className=\"flex\" style={{ backgroundColor: \"#bb7944\" }}>\r\n        <div style={{margin: \"0 30px 0 50px\", height: \"90px\"}}>\r\n          <Link to='/'>\r\n            <img src=\"/images/logo.png\" alt=\"Onion Shop LOGO\" style={{ width: \"90px\" }} />\r\n          </Link>\r\n        </div>\r\n        <div className='flex' style={{width: \"100px\", fontSize: '23px', alignItems: 'center', color: \"#f2f2f2\"}}>購物車</div>\r\n      </div>\r\n      {checkCart()}\r\n      <Footer />\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  state => ({ account: state.account }),\r\n  {}\r\n)(Cart);\r\n","import { LOGIN_STATE, LOGGED_IN_USER } from '../../redux/constant'\r\n\r\nexport const updateLoginState = (data) => ({type: LOGIN_STATE, data})\r\nexport const updateUserInfo = (data) => ({type: LOGGED_IN_USER, data})\r\n","import { IS_HOME } from \"../constant\";\r\n\r\nexport const updateIsHome = data => ({type: IS_HOME, data})"],"names":["props","className","style","backgroundColor","rel","target","children","connect","state","account","isHome","updateLoginState","updateUserInfo","updateIsHome","loginState","userInfo","location","useLocation","navigate","useNavigate","nextSearchParams","encodeURIComponent","window","href","initPopover","notifTitle","notifContent","useState","popover","setPopover","useEffect","checkIsHomepage","checkIsUser","pathname","accountContents","width","padding","cursor","onClick","logout","name","color","minHeight","minWidth","notifications","map","notif","id","imgUrl","title","content","flexDirection","src","alt","paddingRight","paddingTop","maxWidth","fontSize","justifyContent","alignItems","flex","to","textAlign","fontWeight","nanoid","cart","marginRight","placement","trigger","arrowPointAtCenter","size","icon","avatar","items","removeFromCart","confirm","newItems","filter","item","price","quantity","isChecked","height","type","onChange","updateCheckbox","checked","preview","placeholder","ImgPlaceHolder","toLocaleString","index","decrement","increment","checkedCount","reduce","preVal","totalPrice","event","isAllChecked","handleCheckAll","length","replace","Navbar","margin","display","Footer","data","LOGIN_STATE","LOGGED_IN_USER","IS_HOME"],"sourceRoot":""}